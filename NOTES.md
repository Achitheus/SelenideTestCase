# Заметки
### Содержание
- [Не дает покоя (планы на будущее)](#не-дает-покоя-планы-на-будущее)
- [Понравилось](#понравилось)
- [Досадные обстоятельства](#досадные-обстоятельства)
- [Заключение, выводы](#заключение-выводы)
### Не дает покоя (планы на будущее)
- Если [`metCondition()`](https://github.com/Achitheus/SelenideTestCase/blob/a49a8a2a2aa182f5570b3438b5d385e6bd77384c/src/main/java/helpers/SelenideCustom.java#L22C103-L22C103)
  возвращает `false`, это значит что был пойман `Error`,
  а значит его раньше перехватывает селенидовский листенер, а значит делается лишний скриншот
  и сохраняется лишняя страница. Метод можно переделать через цикл со `Sleep`-ом и передавать внутрь
`Condition`, который используется для `SelenideElement.is(Condition)`, который не задействует ожидания и ничего не выбрасывает (в обычной ситуации).
- Надо бы создать класс `PaginatedItemsChecker` ~~с преферансомъ и мадемуазелями~~ с параметром
  типа и, возможно, лямбдами и с помощью него делать проверки с прогоном по всем страницам, т.е. переделать метод
  [`marketCheckAllPages()`](https://github.com/Achitheus/SelenideTestCase/blob/a49a8a2a2aa182f5570b3438b5d385e6bd77384c/src/test/java/ru/bellintegrator/ru/yandex/market/MarketTest.java#L82)
  во что-то реюзабельное. Сейчас же он по сути является частью конкретного
  теста и захламляет класс тестов. Должен получиться отличный `helper`, который можно
  будет использовать вообще с любыми сайтами/страницами, где есть пагинация.
- Разобраться как следует в `maven` и заполнить раздел [Build](/README.md#build-раздел-в-разработке)

### Понравилось
- Помимо обычного `.gitignore`, есть еще его глобальная версия, которую обычно кладут
туда же, где лежит `.config`. За счет него можно почистить расшариваемый вариант, а также создавать
какие-то вспомогательные файлы, о случайном попадании в коммит которых не нужно беспокоиться. Крутецкая вещь. 
- Код выполняемый на странице в браузере можно остановить и поймать, например, спиннер загрузки товаров.
### Досадные обстоятельства
- Использование Junit-овских софт ассертов не позволяет создавать подробные `message`- ы,
  точнее позволяет, но для каждой переменной передаваемой в лямбду приходится делать
  ее `final` копию. Ужасно не нравится.
- Забавно, что судя по всему на сегодняшний день не существует вменяемого способа узнать
  какую версию XPath использует браузер или его драйвер (по крайней мере для Хрома).
Остается только стучаться в методы, специфичные для разных версий, и смотреть какие из
этих вызовов упали.

### Заключение, выводы
Весьма солидное количество опыта получено и в Selenide и в смежных областях, правда в итоге очень многие
вещи кажутся "over engineered" и неясно, надо ли это вообще кому-то.

Главный(ые) вывод(ы) на данный момент:
- Следует делать ровно то и ровно так, как требуется. А потом уже, при желании, можно
в отдельной ветке `git` над чем-то экспериментировать/улучшать/добавлять.
Иначе это трата сил и времени (возможно в пустую) и отложенные во времени более
актуальные задачи.